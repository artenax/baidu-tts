# baidu-tts

Текст разбивается автоматически по переносам строк.   
Но длинные строки всё ещё нужно обрезать самому. Пока что замечено, что сервер принимает по крайней мере 413 символов в строке.   

Fix 1: Чтобы избавиться от длинных строк добавил перенос строк после каждого предложения. Это привело к лишним паузам в звуке.   
Исправил переименование. Теперь python выполняет правильную естественную сортировку после wget.   

Fix 2: Перенос строк после каждого предложения убрал. Добавил частичное сокращение длинных строк python скриптом. Неисправленное надо сокращать самому.   

Fix 3: Добавил удаление пауз с помощью ffmpeg, автоповтор в wget.   

Fix 4: Оказывается, wget при реконнектах не слушается опции --content-disposition и сохраняет с неправильным именем файла, который потом склеивается не по порядку. Изменил алгоритм именования файлов в replace.py на добавление временной метки UNIX. Неудобство в том, что за процессом скачивания теперь стало неудобно следить. Разве что мониторить папку /tmp/audio/mp3   
AI подсказал более удобный код отправки текстовых URL в wget через список файлов list.txt. См. файл wget-1.sh. Но придётся много переделывать и я пока его не использую.   
